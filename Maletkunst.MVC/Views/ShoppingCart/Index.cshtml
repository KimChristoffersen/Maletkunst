@model Maletkunst.MVC.DAL.Model.ShoppingCart;

@{
	ViewData["Title"] = "Shopping Cart";
}

<h1>Shopping Cart</h1>

<div class="shopping-cart">
	<div class="cart-header">
		<div class="row">
			<div class="col-md-6">Product</div>
			<div class="col-md-2">Price</div>
			@*<div class="col-md-2">Quantity</div>*@
			<div class="col-md-2">Total</div>
		</div>
	</div>
	<div class="cart-body">
		@foreach (var item in Model.Items)
		{
			<div class="row">
				<div class="col-md-6">
					<img src="https://via.placeholder.com/150x150" alt="@item.Name" class="product-image">
					<span class="product-name">@item.Name</span>
				</div>
				<div class="col-md-2">@($"DKK {item.Price:F2}")</div>
				<div class="col-md-2">
					<form asp-controller="ShoppingCart" asp-action="Delete" asp-route-id="@item.Id" method="post">
						<button type="submit" class="buy-button">Remove</button>
					</form>
				</div>
				<div class="col-md-2">@($"DKK {item.Price * item.Quantity:F2}")</div>
			</div>
			<hr />
		}
	</div>
	<div class="cart-footer">
		<div class="row">
			<div class="col-md-8"></div>
			<div class="col-md-2">Subtotal</div>
			<div class="col-md-2">@($"DKK {Model.Subtotal:F2}")</div>
		</div>
		<div class="row">
			<div class="col-md-8"></div>
		</div>
		<div class="row">
			<div class="col-md-8"></div>
			<div class="col-md-2">Total</div>
			<div class="col-md-2">@($"DKK {Model.Total.ToString("F2")}")</div>
		</div>
	</div>
</div>

<div class="d-flex justify-content-end mt-5">
	<form asp-controller="ShoppingCart" asp-action="EmptyCart" method="post" class="mr-3">
		<button type="submit" class="buy-button">Empty Cart</button>
	</form>
	<form asp-controller="Payment" asp-action="Payout" method="post">
		<button type="submit" class="buy-button">Payout</button>
	</form>
</div>
